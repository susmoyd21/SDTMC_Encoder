
act dead,live,step;

proc X(x,y:Pos)=
     (x==1 || x==256) -> dead.X(x,y) <>
     (y==1 || y==256) -> live.X(x,y) <>
     (
       dist b1,b2:Bool[1/4].
       (( b1 &&  b2) -> step.X(x+1,y)+
        ( b1 && !b2) -> step.X(max(1,x-1),y)+
        (!b1 &&  b2) -> step.X(x,y+1)+
        (!b1 && !b2) -> step.X(x,max(1,y-1))
     ) );

init X(160,96);

